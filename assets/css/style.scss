---
# this is here to make Jekyll parse it
---

html {
    font-size: 62.5%; /* 1(r)em = 10px */
}

* {
    margin: 0;
    padding: 0;
    border: 0;
    box-sizing: border-box;
    &::before, &::after {
        box-sizing: border-box;
    }
}

body {
    font-family: sans-serif;
    font-size: 1.3rem;
    color: #434343;
    overflow-y: scroll;
}

strong {
    font-weight: bold;
}

em {
    font-style: italic;
}

$link-color: #007f9a;
$link-color-hover: #006378;

label {
    color: $link-color;
    text-decoration: none;
    &:hover {
        color: $link-color-hover;
    }
}

a {
    color: $link-color;
    text-decoration: none;
    &:hover {
        color: $link-color-hover;
    }
    &:focus {
        outline: none;
    }
}

h1 {
font-size: 2.8rem;
font-weight: normal;
}

h2 {
font-size: 1.6rem;
font-weight: bold;
}

h3 {
font-size: 1.4rem;
font-weight: bold;
}

h4 {
font-size: 1.3rem;
font-weight: bold;
}

p, ul {
font-size: 1.4rem;
line-height: 1.5em;
}

p + p, p + h1, p + h2, p + h3, p + h4, p + h5 {
margin-top: 1.3rem;
}

img {
display: block;
}

ul {
margin: 5px 5px 5px 7px;
list-style-type: none;
counter-reset: foo;
display: table;
}

ul > li {
counter-increment: foo;
display: table-row;
}

ul li::before {
content: "\00BB\00A0";
text-align: right;
display: table-cell;
}

ul ul {
margin: 0px 0px 0px 10px;
}

h4 + ul {
margin: 0px 0px 5px 7px;
list-style-type: none;
}

table {
border-collapse: collapse;
}

th {
font-weight: bold;
padding: 2px 4px;
border: 1px solid #636363;
}

td {
padding: 2px 4px;
border: 1px solid #636363;
}

$content-width: 894px;
$content-margin: auto;

header {
    margin: $content-margin;
    width: $content-width;
}

nav {
    margin: $content-margin;
    width: 500px;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    margin-bottom: 25px;
    padding-bottom: 3px;
    border-bottom: solid 1px #a3a3a3;
    border-top: solid 1px #a3a3a3;
    a {
        font-size: 1.2em;
        &::before, &::after {
            color: #a4a4a4;
        }
        &:nth-child(1) {
            &::before, &::after {
                opacity: 0;
                content: "多";
            }
            &:hover::before, &:hover::after,
            &.active::before, &.active::after {
                opacity: 0.6;
                content: "多";
            }
        }
        &:nth-child(2) {
            &::before, &::after {
                opacity: 0;
                content: "趣";
            }
            &:hover::before, &:hover::after,
            &.active::before, &.active::after {
                opacity: 0.6;
                content: "趣";
            }
        }
        &:nth-child(3) {
            &::before, &::after {
                opacity: 0;
                content: "味";
            }
            &:hover::before, &:hover::after,
            &.active::before, &.active::after {
                opacity: 0.6;
                content: "味";
            }
        }
        &:nth-child(n+4) {
            &::before, &::after {
                opacity: 0;
                content: "丸";
            }
            &:hover::before, &:hover::after,
            &.active::before, &.active::after {
                opacity: 0.6;
                content: "丸";
            }
        }
    }
}

main {
    margin: $content-margin;
    margin-bottom: 50px;
    width: $content-width;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    & > section {
        width: 701px;
        border-right: solid 1px #a3a3a3;
        article {
            margin-bottom: 50px;
        }
        article p {
            margin-right: 5px;
        }
    }
    & > aside {
        width: 175px;
        article {
            margin-bottom: 25px;
        }
        article:only-child {
            /* assume its a navigation */
            position: fixed;
        }
    }
    & > section:only-child {
        width: $content-width;
        border: none;

        & > article:only-child {
            h1 {
                padding: 5px;
                color: #434343;
                border-bottom: solid 1px #006378;
                a {
                    color: #434343;
                }
            }
            & > p:first-of-type,
            & > h3:first-of-type,
            & > h4:first-of-type {
                margin-top: 7px;
            }
            & > p:last-of-type {
                margin-bottom: 7px;
            }
            & > div.blogimg {
                float: right;
                margin: 0 0 7px 15px;
            }
        }
    }
}

div.blog_thumbnail_grid {
    display: flex;
    flex-flow: row wrap;
    justify-content: space-between;
    margin-bottom: 10px;
    & div.blog_thumbnail {
        width: 290px;
        height: 135px;
        display: flex;
        flex-flow: column;
        justify-content: flex-end;
        & > p {
            width: 290px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        & > div {
            height: 100px;
            width: 290px;
            background-size: cover;
            background-position: left bottom;
        }
    }
}

p.blog_showall_bar {
    margin: 0;
    & > a {
        display: block;
        text-align: center;
        background-color: #dbdbdb;
        }
}

footer {
    margin: $content-margin;
    width: $content-width;
    height: 132px;
    padding-top: 2px;
    text-decoration: none;
    color: #5d5d5d;
}

div.footline {
padding: 5px 0px 0px 0px;
border-top: solid 1px #006378;
overflow: hidden;
clear: both;
}

div.footline div.tags {
float: left;
}

div.footline div.date {
float: right;
}

div.footline div p {
font-size: 1.1rem;
text-align: right;
}

code {
font-family: monospace;
padding: 2px;
background-color: #dedede;
font-size: 1.1rem;
}

pre > code {
color: #eeeeee;
background-color: #434343;
padding: 5px;
display: block;
margin: 10px 10px 10px 0px;
white-space: pre-wrap;
overflow: hidden;
}

div.imgsrc {
background-color: #d5d5d5;
padding: 0px 2px 0px 2px;
}

div.imgsrc > p {
font-size: 1rem;
}

div.imgdropdown {
height: 40px;
overflow: hidden;
}

div.imgdropdown:hover {
height: 100%;
}

#inb4mail, #inb4mail2 {
font-family: monospace;
padding: 2px;
background-color: #dedede;
font-size: 1.1rem;
}

pre > code {
color: #eeeeee;
}

#inb4mail::after {
content: "\0040\0067\006D\0061\0069\006C\002E\0063\006F\006D";
}

#inb4mail::before {
content: "\0074\0061\0072\0065\006B\0073\0061\0069\0065\0072";
}

#inb4mail2::after {
content: "\006F\006E\006D\0061\0069\006C\002E\0063\006F\006D";
}

#inb4mail2::before {
content: "\0073\0061\0069\0065\0072\0040\0070\0072\006F\0074";
}

span.a {
color: #007f9a;
text-decoration: none;
}

span.a:hover {
color: #006378;
}

a.info, a.info:hover {
color: #636363;
}

div.hr {
height: 1px;
background-color: #ababab;
margin: 15px 0px 15px 0px;
}

label {
cursor: pointer;
}

$book-color: #cab99a;
$book-corner-style: 5px solid;

table#bookshelf {
  writing-mode: vertical-rl;
  width: 100%;
  & tr {
    vertical-align: top;
  }
  & th {
    writing-mode: horizontal-tb;
    height: 1.75em;
    vertical-align: middle;
    border-bottom-width: 2px;
  }
  & td {
    height: 150px;
  }
  & ol {
  list-style-type: none;
  counter-reset: foo;
  }
  & li {
    background: $book-color;
    position: relative;
    margin-left: 2px;
    padding: 7px 3px 7px 3px;
      &::before {
        content: "";
        width: 100%;
        height: 0;
        position: absolute;
        top: 0;
        left: 0;
        border-bottom: $book-corner-style $book-color;
        border-left: $book-corner-style #fff;
        border-right: $book-corner-style #fff;
      }
      &::after {
        content: "";
        width: 100%;
        height: 0;
        position: absolute;
        bottom: 0;
        left: 0;
        border-top: $book-corner-style $book-color;
        border-left: $book-corner-style #fff;
        border-right: $book-corner-style #fff;
        z-index: 0;
      }
  }
}

/* mixed language strings */
.mixlang span.swap span {
    background: linear-gradient(to right, #89a2a7 3px, #89a2a7 3px, #e3e9eb 3px);
    border-radius: 3px;
    padding: 2px;
    cursor: default;
}
.mixlang:hover span.swap span {
  display: none;
}
.mixlang:hover span.swap::after {
  background: #e3e9eb;
  border-radius: 3px;
  padding: 2px;
  content: attr(swap);
}

/* stuff for the top page */
#sirtetris,
#tashumimaru {
display: block;
margin: 0px auto;
}
#sirtetris {
margin-top: 100px;
height: 84px;
width: 494px;
}
#tashumimaru {
width: 494px;
height: 494px;
}
#sirtetris #bg_rect {
fill-opacity: 0;
}
#sirtetris path:not(#bg_rect),
#tashumimaru path {
fill: #006378;
fill-opacity: 1;
stroke: none;
}
#tashumimaru g[id$="_overlay"] {
opacity: 0;
display: block;
}
#tashumimaru g[id$="_overlay"]:hover {
opacity: 1;
}
#tashumimaru g[id$="_overlay"] path {
fill: #414141;
}
#tashumimaru rect[id$="_bg"] {
fill: #a4a4a4;
fill-opacity: 0.6;
}
svg a {
outline: none;
}

/* bending the knee to mobile dominance */
@media only screen and (max-width: 932px) {

$content-width-mobile: 308px;

header {
    width: $content-width-mobile;
}

nav {
    width: $content-width-mobile;
    a {
        font-size: 0.9em;
    }
}

main {
    width: $content-width-mobile;
    display: flex;
    flex-direction: column;
    & > section {
        width: $content-width-mobile;
        border-right: none;
        article {
            margin-bottom: 27px;
            img {
                max-width: $content-width-mobile;
            }
        }
    }
    & > aside {
        width: $content-width-mobile;
        article {
            margin-bottom: 27px;
            img {
                max-width: $content-width-mobile;
            }
        }
        article:only-child {
            /* assume its a navigation */
            position: fixed;
        }
    }
    & > section:only-child {
        width: $content-width-mobile;
        border: none;
    }
}

div.blog_thumbnail_grid {
    & div.blog_thumbnail {
        width: $content-width-mobile;
        & > p {
            width: $content-width-mobile;
        }
        & > div {
            width: $content-width-mobile;
        }
    }
}

footer {
    width: $content-width-mobile;
    height: 132px;
}

aside article:only-child {
    /* assume its a navigation */
    position: initial;
    top: initial;
    left: initial;
    margin-left: initial;
}

table#bookshelf td {
    display: block;
    width: 308px;
    overflow: scroll;
}

#sirtetris {
margin-top: 50px;
height: 52px;
width: 308px;
}
#tashumimaru {
width: 308px;
height: 308px;
}
#tashumimaru g[id$="_overlay"] {
opacity: 0.2;
-webkit-animation: fadein 10s infinite; /* Safari, Chrome and Opera > 12.1 */
   -moz-animation: fadein 10s infinite; /* Firefox < 16 */
    -ms-animation: fadein 10s infinite; /* Internet Explorer */
     -o-animation: fadein 10s infinite; /* Opera < 12.1 */
        animation: fadein 10s infinite;
}
@keyframes fadein {
  0%    { opacity: 0}
  30%   { opacity: 0}
  40%   { opacity: 1}
  60%   { opacity: 1}
  70%   { opacity: 0}
  100%  { opacity: 0}
}

}

@media (prefers-color-scheme: dark) {
    body {
        color: #ddd;
        background-color: #222;
    }
    #inb4mail, #inb4mail2 {
        background-color: #444;
    }
    p.blog_showall_bar > a {
        background-color: #333;
    }
    .mixlang span.swap span {
        background: linear-gradient(to right, #89a2a7 3px, #89a2a7 3px, #384c53 3px);
    }
    .mixlang:hover span.swap::after {
      background: #384c53;
    }
    div.imgsrc {
        background-color: #333;
    }
    main > section:only-child  > article:only-child h1 {
        color: #999;
    }
    code {
        background-color: #434343;
    }

    $book-color: #504734;
    table#bookshelf {
      & li {
        background: $book-color;
          &::before {
            border-bottom: $book-corner-style $book-color;
            border-left: $book-corner-style #222;
            border-right: $book-corner-style #222;
          }
          &::after {
            border-top: $book-corner-style $book-color;
            border-left: $book-corner-style #222;
            border-right: $book-corner-style #222;
          }
      }
    }
}
